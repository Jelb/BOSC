\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[danish]{babel}
\usepackage{subfiles}
\usepackage{hyperref}
\usepackage{cite}
\usepackage{graphicx}
\usepackage{float}
\usepackage{caption}
\usepackage{mathtools}
\usepackage{listings}
\usepackage{etoolbox}% http://ctan.org/pkg/etoolbox
\usepackage{verbatim}
\usepackage[usenames, dvipsnames]{color}
\usepackage{xcolor}
\usepackage{pdfpages}
\usepackage{cite}
\usepackage{lipsum}

\newcommand*\justify{%
  \fontdimen2\font=0.4em% interword space
  \fontdimen3\font=0.2em% interword stretch
  \fontdimen4\font=0.1em% interword shrink
  \fontdimen7\font=0.1em% extra space
  \hyphenchar\font=`\-% allowing hyphenation
}

\captionsetup{justification=centering}

\addtolength{\oddsidemargin}{-1cm}
\addtolength{\evensidemargin}{-1cm}
\addtolength{\textwidth}{2cm}
\addtolength{\topmargin}{-1.5cm}
\addtolength{\textheight}{3cm}

%formatering af lislisting
\makeatletter
\patchcmd{\lst@GLI@}% <command>
  {\def\lst@firstline{#1\relax}}% <search>
  {\def\lst@firstline{#1\relax}\def\lst@firstnumber{#1\relax}}% <replace>
  {\typeout{listings firstnumber=firstline}}% <success>
  {\typeout{listings firstnumber not set}}% <failure>
\makeatother

\lstset{language=C, 
    numbers=left,
    frame=single,
    basicstyle=\footnotesize,
    breaklines=true,
    numberstyle=\scriptsize\color{gray},
    captionpos=b,
    commentstyle=\itshape\color{green!70!black!80!brown!70!},
    keywordstyle=\color{blue},
    morekeywords={malloc},
    showstringspaces=false,
    stringstyle=\color{red},
    title=\lstname
    }

\graphicspath{{billeder/}}

\setlength{\parindent}{0pt}

\begin{document}
\input{./forside.tex}
\tableofcontents
\pagebreak

\subfile{introduktion.tex}

\subfile{metode.tex}

\subfile{implementation.tex}

\subfile{test.tex}

\subfile{diskussion.tex}

\subfile{konklusion.tex}
% contains the bibliography
\bibliography{bibliography.bib}
\bibliographystyle{plain}
\pagebreak
\subfile{appendix.tex}

\end{document}

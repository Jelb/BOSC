\documentclass[main.tex]{subfile}
\begin{document}
\appendix
\section{Appendiks}
\subsection{Linux Kernel Modules}
\lstinputlisting[caption=Implementation af simpelt modul - $simple.c$]{../simple.c}\label{sec:simple.c}
\pagebreak

\subsection{Linux Kernel Module for Listing Tasks - del 1}
\lstinputlisting[caption=Implementation af simple task printer - $taskPrinter.c$]{../taskPrinter.c}\label{sec:taskPrinter}
\pagebreak

\subsection{Linux Kernel Module for Listing Tasks - del 2}
\lstinputlisting[caption=Implementation af DFS task printer - $taskAndChildPrinter.c$]{../taskAndChildPrinter.c}\label{sec:taskAndChildPrinter}
\pagebreak

\end{document}
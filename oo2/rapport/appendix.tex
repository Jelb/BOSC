\documentclass[main.tex]{subfile}
\begin{document}
\appendix
\section{Appendiks}
\subsection{Appendix for delopgave 1}
\subsubsection{Header file for delopgave 1 - $oo2\_1.h$}
\lstinputlisting[caption=Definition af Sumjob struct.]{../oo2_1.h}\label{sec:oo2_1.h}

\subsubsection{Kildekode til delopgave 1 - $oo2\_1.c$}
\lstinputlisting[caption=Implementation af flertråde kvardratrods sum.]{../oo2_1.c}\label{sec:oo2_1.c}
\pagebreak

\subsection{Appendix for delopgave 2}
\subsubsection{Kildekode til delopgave 2 - $list.c$}
\lstinputlisting[caption=Kode for implementation af hægtede lister]{../list/list.c}\label{sec:list.c}
\pagebreak

\subsubsection{Kildekode til test af delopgave 2 - $list/main.c$}
\lstinputlisting[caption=Implementation af test funktion til delopgave 2.]{../list/main.c}\label{sec:main}
\pagebreak

\subsection{Appendix for delopgave 3}
\subsubsection{Kildekode til delopgave 3 - $oo2\_3.c$}
\lstinputlisting[caption=Implementation af Producer/consumer system til delopgave 3.]{../oo2_3.c}\label{sec:procon}
\pagebreak

\subsection{Appendix for delopgave 4}
\subsubsection{Kildekode til delopgave 4 - $banker/banker.c$}
\lstinputlisting[caption=Implementation af Bankers algoritmen til delopgave 4.]{../banker/banker.c}\label{sec:banker}
\pagebreak
\subsubsection{Usikkert opstartesstadie - $banker/badstate.txt$}
\lstinputlisting[caption=Tekst fil representerende et usikkert stadie.]{../banker/badstate.txt}\label{sec:badstate}
\pagebreak

\subsection{Makefiles}
\subsubsection{Makefile for delopgave 1 og 3}\label{sec:make21}\label{sec:make23}
\lstinputlisting[caption=Makefile til kompilering af delopgave 1 og 3., language=make]{../Makefile}

\subsubsection{Makefile for delopgave 2}label{sec:make22}
\lstinputlisting[caption=Makefile til kompilering af delogave 2., language=make]{../list/Makefile}\

\subsubsection{Makefile for delopgave 4}\label{sec:make24}
\lstinputlisting[caption=Makefile til kompilering af delogave 4., language=make]{../banker/Makefile}
\end{document}